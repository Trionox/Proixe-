<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Account - Proixe Store</title>
<style>
body{font-family:Arial,sans-serif;background:#f9f9f9;margin:0;padding-bottom:70px;}
header{background:#2c3e50;color:white;padding:15px 20px;display:flex;justify-content:space-between;align-items:center;}
header h1{margin:0;font-size:22px;}
header nav a{color:white;margin-left:15px;text-decoration:none;font-weight:bold;}
header nav a:hover{text-decoration:underline;}
.account-box{max-width:500px;margin:20px auto;background:white;padding:20px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.2);}
.account-box h2{text-align:center;}
.account-box div{margin:10px 0;}
button{padding:10px 15px;background:#3498db;color:white;border:none;border-radius:5px;cursor:pointer;}
button:hover{background:#1d6fa5;}
.order-item{background:#f1f1f1;padding:10px;margin:5px 0;border-radius:5px;}
.footer-nav{position:fixed;bottom:0;left:0;right:0;background:#2c3e50;display:flex;justify-content:space-around;padding:10px 0;}
.footer-nav a{color:white;text-decoration:none;font-weight:bold;font-size:14px;}
</style>
</head>
<body>
<header>
<h1>Proixe Store</h1>
<nav>
<a href="account.html">Account</a>
<a href="cart.html">Cart</a>
</nav>
</header>

<div class="account-box" id="account-box">
<h2>Your Account</h2>
<div id="user-info"></div>
<h3>Orders:</h3>
<div id="orders-list"></div>
<button onclick="logout()">Logout</button>
</div>

<div class="footer-nav">
<a href="index.html">Home</a>
<a href="plants.html">Plants</a>
<a href="grocery.html">Grocery</a>
<a href="clothes.html">Clothes</a>
<a href="account.html">Account</a>
</div>

<script>
// Check if user is logged in
let currentUser = JSON.parse(localStorage.getItem("currentUser"))||null;

function renderAccount(){
 const userBox=document.getElementById("user-info");
 const ordersBox=document.getElementById("orders-list");
 if(!currentUser){
   userBox.innerHTML="<p>Please login first.</p>";
   ordersBox.innerHTML="";
   return;
 }

 userBox.innerHTML = `
   <div><strong>Name:</strong> ${currentUser.name}</div>
   <div><strong>Phone:</strong> ${currentUser.phone}</div>
   <div><strong>Address:</strong> ${currentUser.address}</div>
 `;

 let orders = JSON.parse(localStorage.getItem("orders"))||[];
 let userOrders = orders.filter(o=>o.phone===currentUser.phone);

 if(userOrders.length===0){
   ordersBox.innerHTML="<p>No orders placed yet.</p>";
 } else {
   ordersBox.innerHTML = "";
   userOrders.forEach((o,i)=>{
     const div = document.createElement("div");
     div.className="order-item";
     div.innerHTML = `<strong>Order ${i+1}:</strong><br>
                      Items: <pre>${JSON.stringify(o.items,null,2)}</pre>
                      Total: â‚¹${o.total}<br>
                      Payment: ${o.payment}<br>
                      Address: ${o.address}`;
     ordersBox.appendChild(div);
   });
 }
}

function logout(){
 localStorage.removeItem("currentUser");
 alert("Logged out successfully");
 window.location.href="index.html";
}

renderAccount();
</script>
</body>
</html>
